---
title: "IODS Final assignment"
author: "Laura Matkala"
affiliation: "laura.matkala@helsinki.fi"
date: "`r Sys.Date()`"
output:
  html_document:
    code_folding: hide
    fig_caption: yes
    fig_height: 8
    fig_width: 10
    highlight: pygments
    toc: yes
---
<style>
p.caption {
  font-size: 0.9em;
}
</style>
---
# <span style="color:darkblue">Some words to start with</span>
**Welcome to the page!** This is an essential part of my final assignment to the course "Introduction to Open Data Science", or as we friends call it "IODS" course. My name is Laura Matkala and I am a PhD student who studies forests. I have to say this is one of the most inspiring courses I have taken in a while. I will do my best with all the new skills I have learned during the course to make a best possible outcome for this assignment!

![Happy forest scientist by a lake in a mountain forest at Mammoth Lakes, CA, USA.(This is here to remind us that although it doesn't look like it now, the sun actually does exist...)](C:/HY-Data/MATKALA/GitHub/IODS-final/figures/49.jpg)




#<span style="color:darkblue">About the dataset</span>

I chose to use the dataset <span style="color:red">Boston</span>, which includes data about housing in the suburbs of Boston , Massachusettes, USA. I will later perform <span style="background:yellow">linear regression</span> and <span style="background:yellow">logistic regression</span> to the variable <span style="color:red">"crime"</span>,  but first some basic information about the dataset. 

![The dataset has variables related to housing in the suburbs of Boston, Massachusettes, USA. Picture from: http://amtrakdowneaster.com/stations/boston](C:/HY-Data/MATKALA/GitHub/IODS-final/figures/boston.jpg)

I have standardized the dataset beforehand as well as explored it a bit. You can find the R script file with all the data wrangling and codes [here](https://github.com/LauraMatkala/IODS-final/blob/master/data_wrangling_final.R). The variables in the dataset are:


* <span style="color:green">crime = per capita crime rate by town (high, medium low, medium high, high)</span>
* <span style="color:purple">zn = proportion of residential land zoned for lots over 25,000 sq.ft</span>
* <span style="color:green">indus = proportion of non-retail business acres per town</span>
* <span style="color:purple">chas = Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)</span>
* <span style="color:green">nox = nitrogen oxides concentration (parts per 10 million)</span>
* <span style="color:purple">crm = average number of rooms per dwelling</span>
* <span style="color:green">age = proportion of owner-occupied units built prior to 1940</span>
* <span style="color:purple">dis = weighted mean of distances to five Boston employment centres</span>
* <span style="color:green">rad = index of accessibility to radial highways</span>
* <span style="color:purple">tax = full-value property-tax rate per \$10,000</span>
* <span style="color:green">ptratio = pupil-teacher ratio by town</span>
* <span style="color:purple">black = 1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town</span>
* <span style="color:green">lstat = lower status of the population (percent)</span>
* <span style="color:purple">medv = median value of owner-occupied homes in \$1000s</span> 



#<span style="color:darkblue">Analysis</span>
###<span style="color:darkblue">Linear regression</span>


To start with the linear regression I need to read in the data as well as call the needed packages. I will also check the structure and dimensions of the data to see that everything is in order after the data wrangling and saving the file as csv.


```{r start, warning=FALSE, message=FALSE} 
Boston<-read.csv(file = "C:/HY-Data/MATKALA/GitHub/IODS-final/Boston.csv", header = TRUE, sep=",")
library(GGally); library(ggplot2)
str(Boston)
dim(Boston)
```

Everything seems to be ok with the data and it looks like I meant it to look like at this point. Let's make a couple of plots to see what the data looks like.

```{r plots, fig.height=10, fig.width=10}
ggpairs(Boston, lower = list(combo = wrap("facethist", bins = 20)))

```



I will create a linear multiple regression model, which uses <span style="color:red">"rad"</span>, <span style="color:red">"dis"</span> and <span style="color:red">"ptratio"</span> as explanatory variables for <span style="color:red">"crim"</span>. A linear multiple regression model in this case takes the form $y = \alpha+\beta_1x_1+\beta_2x_2+\beta_3x_3+\epsilon$, where rad, dis and ptratio are estimates of $\beta$, $\alpha$ is an intercept and $\epsilon$ is the error term/random noise. 

```{r multiple regression}
my_model <- lm(crim ~ rad + dis + ptratio, data = Boston)
summary(my_model)
```


In linear regression the aim is to minimize the residuals, which are the prediction errors of the model. The best model fit is found so that the sum of the squared residuals is minimized.  The $\beta$ values this model gives us are -5.8e-01, -9.3e-02 and -1.27e-03,respectively, whereas the $\alpha$ (intercept) is -3-03e-16. Standard error for $\alpha$ is 3.46e-02 and for $\beta$s 4.4e-02, 4.0e-02 and 3.9e-02, respectively.  Based on p-values it seems that <span style="color:red">"ptratio"</span>  is not important for the model, whereas <span style="color:red">"rad"</span> and <span style="color:red">"dis"</span> are. I will thus leave <span style="color:red">"ptratio"</span> out and formulate another model.

```{r multiple regression part two}
my_model2<- lm(crim ~ rad + dis, data = Boston)
summary(my_model2)
```
Well, no dramatic changes compared to the previous situation. I guess this means that ptratio was just meaningless in the model. Then again, when I standardized the data, the values of the variables got very small. I don't know if standardization was really needed, I just wanted to wrangle the data a bit instead of using it directly as it is.

